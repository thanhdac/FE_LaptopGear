<template>
  <div class="row">
    <div id="carouselExampleControls" class="carousel slide pointer-event" data-bs-ride="carousel">
      <ol class="carousel-indicators">
        <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class=""></li>
        <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" class=""></li>
        <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" class="active" aria-current="true"></li>
      </ol>
      <div class="carousel-inner">
        <div class="carousel-item active rounded-4" data-bs-interval="10000" style="background-color: #1c2331">
          <div class="row">
            <div class="col-5 d-flex align-items-center">
              <div class="container ms-5">
                <h2 class="text-white mb-4">
                  S·∫Øm laptop m·ªõi ‚Äì Nh·∫≠n ngay, d√πng li·ªÅn!
                  <i class="fa-brands fa-square-web-awesome-stroke text-warning"></i>
                </h2>
                <span class="text-white">
                  T·∫°i Laptop Gear, ch√∫ng t√¥i mang ƒë·∫øn nh·ªØng chi·∫øc laptop ch√≠nh h√£ng, c·∫•u h√¨nh t·ªëi ∆∞u, ph√π h·ª£p m·ªçi nhu
                  c·∫ßu h·ªçc t·∫≠p, l√†m vi·ªác, gi·∫£i tr√≠. Giao t·∫≠n tay, kh√¥ng ch·ªù ƒë·ª£i!
                </span>
                <p class="mt-4">
                  <button class="btn btn-outline-light rounded-4">
                    <b>ƒê·∫∂T H√ÄNG NGAY</b>
                  </button>
                </p>
              </div>
            </div>
            <div class="col-7">
              <img
                src="https://cdn.mos.cms.futurecdn.net/kZj6ncQfVcpXUzsPPPaRrm.jpg"
                class="d-block w-100 rounded-4"
                alt="..."
                style="width: 450px; height: 500px; object-fit: cover"
              />
            </div>
          </div>
        </div>
        <div class="carousel-item rounded-4" style="background-color: #1c2331">
          <div class="row">
            <div class="col-5 d-flex align-items-center">
              <div class="container ms-5">
                <h2 class="text-white mb-4">
                  Laptop hi·ªáu nƒÉng cao ƒë·∫øn tay b·∫°n ch·ªâ trong v√†i ph√∫t!
                  <i class="fa-brands fa-square-web-awesome-stroke text-warning"></i>
                </h2>
                <span class="text-white">
                  Laptop Gear cam k·∫øt giao m√°y nguy√™n seal, c·∫•u h√¨nh m·∫°nh, ƒë√∫ng h·∫πn t·∫≠n n∆°i b·∫°n mu·ªën. S·∫µn s√†ng ƒë·ªìng h√†nh
                  c√πng b·∫°n m·ªçi l√∫c, m·ªçi n∆°i!
                </span>
                <p class="mt-4">
                  <button class="btn btn-outline-light rounded-4">
                    <b>TH·ª¨ NGAY</b>
                  </button>
                </p>
              </div>
            </div>
            <div class="col-7">
              <img
                src="https://www.lydogbillede.dk/wp-content/uploads/2025/07/Predator-Helios-16-18-lifestyle-04-custom.jpg"
                class="d-block w-100 rounded-4"
                alt="..."
                style="width: 450px; height: 500px; object-fit: cover"
              />
            </div>
          </div>
        </div>
        <div class="carousel-item rounded-4" data-bs-interval="2000" style="background-color: #1c2331">
          <div class="row">
            <div class="col-5 d-flex align-items-center">
              <div class="container ms-5">
                <h2 class="text-white mb-4">
                  L√†m vi·ªác m∆∞·ª£t m√† v·ªõi laptop si√™u t·ªëc, nh·∫≠n h√†ng si√™u nhanh!
                  <i class="fa-brands fa-square-web-awesome-stroke text-warning"></i>
                </h2>
                <span class="text-white">
                  Laptop Gear chuy√™n cung c·∫•p c√°c d√≤ng laptop ch·∫•t l∆∞·ª£ng, ƒëa d·∫°ng m·∫´u m√£, giao h√†ng t·∫≠n n∆°i si√™u t·ªëc. D√π
                  b·∫°n l√† d√¢n vƒÉn ph√≤ng hay game th·ªß, ch√∫ng t√¥i ƒë·ªÅu c√≥ gi·∫£i ph√°p cho b·∫°n!
                </span>
                <p class="mt-4">
                  <button class="btn btn-outline-light rounded-4">
                    <b>TR·∫¢I NGHI·ªÜM NGAY</b>
                  </button>
                </p>
              </div>
            </div>
            <div class="col-7">
              <img
                src="https://cellphones.com.vn/sforum/wp-content/uploads/2022/01/ROG-Strix-SCAR-2.jpg"
                class="d-block w-100 rounded-4"
                alt="..."
                style="width: 400px; height: 500px; object-fit: cover"
              />
            </div>
          </div>
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </a>
    </div>
  </div>

  <div class="card mt-2">
    <div class="d-flex align-items-center text-white" style="background-color: #1c2331; height: 50px">
      <div
        class="d-flex align-items-center px-3 fw-bold text-white"
        style="
          background-color: red;
          clip-path: polygon(0 0, 90% 0, 100% 50%, 90% 100%, 0 100%);
          width: 250px;
          height: 100%;
        "
      >
        Li√™n h·ªá v·ªõi Laptop Grear
      </div>
      <marquee class="ms-3 text-truncate">
        <b>LaptopGear</b> - C∆° s·ªü: K266/50 Ho√†ng Di·ªáu, Nam D∆∞∆°ng, H·∫£i Ch√¢u, ƒê√† N·∫µng - Tel: 0961 1560999 Nguy·ªÖn Th√†nh ƒê·∫°t
        - Nguy·ªÖn VƒÉn Hi·∫øu - Nguy·ªÖn Tr·ªçng T√≠nh
      </marquee>
    </div>
  </div>

  <div class="card mt-5">
    <div class="card-header" style="background-color: red">
      <div class="d-flex align-items-center text-white rounded-3">
        <h4 style="width: 30%" class="fw-bold mt-2 text-light">GI·ªú V√ÄNG GI√Å S·ªêC</h4>

        <div class="d-flex align-items-center">
          <b>C√≤n l·∫°i</b>
          <div class="countdown-box">599</div>
          <b>gi·ªù</b>
          <div class="countdown-box">08</div>
          <b>ph√∫t</b>
          <div class="countdown-box">41</div>
          <b>gi√¢y</b>
        </div>

        <div class="ms-auto">
          <a href="#" class="text-white fw-bold text-decoration-underline">Xem t·∫•t c·∫£ &raquo;</a>
        </div>
      </div>
    </div>
    <div class="card-body">
      <div class="row">
        <template v-for="(value, index) in list_laptop.filter((x) => x.trang_thai === 1).slice(0, 4)" :key="index">
          <div class="col-lg-3">
            <div class="card h-100">
              <span class="sale-badge">-24%</span>
              <img :src="value.hinh" class="card-img-top" />
              <div class="card-body text-center mt">
                <h5 class="text-danger fw-bold">{{ formatVND(value.don_gia) }}</h5>
                <h6 class="text-decoration-line-through text-muted">>{{ value.gia_cu }}ƒë</h6>
                <b class="card-text"> {{ value.ten_sp }}</b>
              </div>
              <div class="card-footer bg-transparent text-center">
                <button class="btn btn-outline-danger fw-bold text-center rounded-pill w-100">
                  {{ value.so_luong }}üî•
                </button>
              </div>
            </div>
          </div>
        </template>
      </div>
    </div>
  </div>

  <div class="row mt-5">
    <div class="col-lg-12 text-center mb-2">
      <div class="d-inline-block">
        <h2 class="text-primary"><b>S·∫¢N PH·∫®M M·ªöI</b></h2>
        <div class="text-center">
          <hr class="bg-primary mb-3" style="width: 100%; height: 4px; border: none; border-radius: 5px" />
        </div>
      </div>
    </div>
  </div>

<div class="row mt">
    <div class="col-lg-12">
      <div class="card-header">
        <!-- L·∫∑p qua t·ª´ng danh m·ª•c ƒëang ho·∫°t ƒë·ªông -->
        <template v-for="(danh_muc, index) in list_danh_muc.filter((x) => x.trang_thai === 1).slice(0, 8)" :key="index">
          <div class="row">
            <div class="col">
              <div class="d-flex align-items-center bg-light">
                <div class="ribbon-blue">{{ danh_muc.ten_danh_muc }}</div>
                <div class="d-flex align-items-center flex-wrap ms-3 price-filter py-2">
                  <span class="price-label">M·ª©c gi√°:</span>
                  <a href="#">5 TRI·ªÜU - 10 TRI·ªÜU</a>
                  <a href="#">10 TRI·ªÜU - 20 TRI·ªÜU</a>
                  <a href="#">20 TRI·ªÜU - 30 TRI·ªÜU</a>
                  <a href="#">30 TRI·ªÜU - 40 TRI·ªÜU</a>
                  <a href="#">40 TRI·ªÜU - 50 TRI·ªÜU</a>
                  <a href="#">TR√äN 50 TRI·ªÜU</a>
                </div>
                <div class="ms-auto">
                  <a
                    href="/khach-hang/san-pham"
                    class="text-primary fw-bold text-decoration-underline"
                  >Xem t·∫•t c·∫£ &raquo;</a>
                </div>
              </div>
            </div>
          </div>

          <!-- L∆∞·ªõi s·∫£n ph·∫©m theo danh m·ª•c -->
          <div class="card-body mt-3">
            <div class="row product-grid">
              <template
                v-for="(sp, i) in list_laptop.filter((x) => x.trang_thai === 1 && x.ma_dm === danh_muc.ma_dm).slice(0, 4)"
                :key="i"
              >
                <div class="col-lg-3">
                  <router-link :to="'/khach-hang/chi-tiet-san-pham/' + sp.id">
                    <div class="card flex-fill">
                      <img
                        :src="sp.hinh"
                        class="card-img-top ms-5"
                        style="height: 200px; width: 65%"
                      />
                      <div class="card-body">
                        <h6 class="card-title cursor-pointer" style="height: 80px">
                          {{ sp.ten_sp }}
                        </h6>
                        <div class="row mt-2">
                          <div class="col-lg-5 mt-1 text-center">
                            <h6 class="text-decoration-line-through text-muted">
                              {{ sp.gia_cu }}ƒë
                            </h6>
                          </div>
                          <div class="col-lg-7 text-end">
                            <h5 class="text-danger fw-bold">{{ formatVND(sp.don_gia) }}</h5>
                          </div>
                        </div>
                      </div>
                    </div>
                  </router-link>
                </div>
              </template>
            </div>
          </div>
        </template>
      </div>
    </div>
  </div>


</template>
<script>
import axios from "axios";
export default {
  data() {
    return {
      list_laptop: [],
      list_danh_muc: [],
    };
  },
  mounted() {
    this.getLaptop();
    this.getDanhMuc();
  },
  methods: {
    getLaptop() {
      axios
        .get("http://127.0.0.1:8000/api/client/Laptop/get-data-trang-chu")
        .then((res) => {
          if (res.data.data) {
            this.list_laptop = res.data.data;
          }
        })
        .catch((error) => {
          console.log(error);
        });
    },
    getDanhMuc() {
      axios.get("http://127.0.0.1:8000/api/khach-hang/danh-muc/get-data").then((res) => {
        this.list_danh_muc = res.data.data;
      });
    },
    formatVND(number) {
      return new Intl.NumberFormat("vi-VI", { style: "currency", currency: "VND" }).format(number);
    },
  },
};
</script>
<style>
/* gi·ªù v√†ng gi√° g·ªëc    */
.countdown-box {
  background-color: #000;
  color: #fff;
  padding: 8px 16px;
  font-weight: bold;
  font-size: 18px;
  border-radius: 6px;
  margin: 0 5px;
}
.sale-badge {
  position: absolute;
  top: 10px;
  right: 10px;
  background-color: red;
  color: white;
  padding: 4px 8px;
  font-weight: bold;
  border-radius: 50%;
}
.card-img-top {
  object-fit: contain;
  height: 200px;
}

/* thanh  */
.ribbon-blue {
  background-color: #0080ff;
  color: white;
  padding: 10px 20px;
  font-weight: bold;
  font-size: 20px;
  clip-path: polygon(0 0, 90% 0, 100% 100%, 0% 100%);
  white-space: nowrap;
}

.price-filter a {
  color: #0080ff;
  margin-right: 20px;
  text-decoration: none;
  font-weight: 500;
}

.price-filter a:hover {
  text-decoration: underline;
}

.price-label {
  font-weight: bold;
  margin-left: 15px;
  margin-right: 10px;
  white-space: nowrap;
}
</style>
.
